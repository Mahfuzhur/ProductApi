
@{
    ViewData["Title"] = "Test";
}

<h2>Test</h2>

<!DOCTYPE html>
<html>
<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    
    <script>
        $(document).ready(function () {
            //$("button").click(function () {
            //    $.get("product/1/1", function (data, status) {
            //        alert("Data: " + data[1].id + "\nStatus: " + status);
            //    });
            //});
            (function poll() {
                setTimeout(function () {
                    $.getJSON({
                        url: "product/1", success: function (result) {



                            $.each(result, function (i, field) {

                                $("div").append(field + " ");
                                console.log(field);



                            });
                        }, dataType: "json", complete: poll
                    });
                }, 3000);
            })();
            //$("button").click(function () {
            //    $.getJSON("product/1", function (result) {
            //        $.each(result, function (i, field) {
            //            $("div").append(field.productName + " ");
            //            console.log(field);
            //            console.log(i);
            //        });
            //    });
            //});

            //$.getJSON("product/1",
            //    function (json) {

                    
            //        console.log(json);
            //        var tr;
            //        //Append each row to html table
            //        for (var i = 0; i < json.length; i++) {
            //            tr = $('<tr/>');
            //            tr.append("<td>" + json.Id + "</td>");
            //            tr.append("<td>" + json[i].ShopId + "</td>");
            //            tr.append("<td>" + json[i].ProductName + "</td>");
            //            tr.append("<td>" + json[i].Price + "</td>");
            //            tr.append("<td>" + json[i].Quantity + "</td>");
            //            tr.append("<td>" + json[i].Discount + "</td>");
            //            $('table').append(tr);
            //        }
            //    });

        });

    </script>
</head>
<body>
    <p id="demo"></p>

    @*<button>Send an HTTP GET request to a page and get the result back</button>*@
    <button>Get JSON data</button>

    <div></div>
    <table class="table table-bordered table-condensed table-hover table-striped">
        <thead>
            <tr>
                <th>Id</th>
                <th>Shop Id</th>
                <th>Product Name</th>
                <th>Price</th>
                <th>Quantity</th>
                <th>Discount</th>
            </tr>
        </thead>
        <tbody></tbody>
    </table>


</body>
</html>